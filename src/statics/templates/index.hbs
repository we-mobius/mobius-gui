<!DOCTYPE html>
<html lang="en" class="mobius-base">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="Content-Security-Policy" content="{{mobiusConfig.[meta-csp]}}">
  {{!-- æ¸²æŸ“ favicon --}}
  {{#each mobiusConfig.manifest.icons as |icon|}}
  <link rel="{{icon.rel}}" type="{{icon.type}}" sizes="{{icon.sizes}}" href="{{icon.src}}">
  {{/each}}
  {{!-- æ¸²æŸ“é¢å¤–å¼•å…¥çš„å­—ä½“èµ„æº --}}
  {{!-- @see https://developer.mozilla.org/zh-CN/docs/Web/HTML/Preloading_content --}}
  {{#each mobiusConfig.fonts as |extra-font|}}
  <link rel='preload' as="font" href="{{extra-font}}" type="font/woff2" crossorigin="anonymous" />
  {{/each}}

  <title>{{mobiusConfig.title}}</title>

  <script>
    Function.prototype.whisperToStrangers = function () {
      let l = new String(this)
      l = l.substring(l.indexOf("/*") + 3, l.lastIndexOf("*/"))
      return l
    }

    let words = function () {
      /*
           __  __      ____      ____      _____     _    _      _____
          |  \/  |    / __ \    |  _ \    |_   _|   | |  | |    / ____|
          | \  / |   | |  | |   | |_) |     | |     | |  | |   | (___
          | |\/| |   | |  | |   |  _ <      | |     | |  | |    \___ \
          | |  | |   | |__| |   | |_) |    _| |_    | |__| |    ____) |
          |_|  |_|    \____/    |____/    |_____|    \____/    |_____/
       */
    }
    console.log(words.whisperToStrangers());
    console.log("        %cğŸ§¿  {{mobiusConfig.whisper}}", "color:hsla(264,100%,50%,100%);line-height: 2;")
    console.log("        %c             (â˜ï¾Ÿãƒ®ï¾Ÿ)â˜  Have a nice day  â˜œ(ï¾Ÿãƒ®ï¾Ÿâ˜œ)", "color:red;")
    console.log(`        %c                       Copyright (c) ${new Date().getFullYear()}`, "color:hsla(96,100%,50%,100%)")
  </script>

  {{!-- æ¸²æŸ“å•ç‹¬å®šä¹‰çš„ å¼‚æ­¥åŠ è½½ å¤–éƒ¨æ ·å¼è¡¨ --}}
  {{#each mobiusConfig.asyncCss as |outer-async-css|}}
  <link rel="stylesheet" href="{{outer-async-css}}" media="print" onload="this.media='all'; this.onload=null;" />
  {{/each}}
  {{!-- æ¸²æŸ“å•ç‹¬å®šä¹‰çš„ åŒæ­¥åŠ è½½ å¤–éƒ¨æ ·å¼è¡¨ --}}
  {{#each mobiusConfig.css as |outer-css|}}
  <link rel='stylesheet' href="{{outer-css}}" />
  {{/each}}
  {{!-- æ¸²æŸ“ webpack æ‰“åŒ…å®Œæˆçš„ CSS --}}
  {{#each htmlWebpackPlugin.css as |inner-css|}}
  <link rel="stylesheet" href="{{inner-css}}">
  {{/each}}
  {{!-- æ¸²æŸ“å•ç‹¬å®šä¹‰çš„è„šæœ¬æ–‡ä»¶ --}}
  {{#each mobiusConfig.scripts as |outer-js|}}
  <link rel='preload' as='script' herf="{{outer-js}}" />
  {{/each}}
  {{!-- æ¸²æŸ“ webpack æ‰“åŒ…å®Œæˆçš„ JavaScript --}}
  {{#each htmlWebpackPlugin.js as |inner-js|}}
  <script defer src="{{inner-js}}"></script>
  {{/each}}

  {{!-- æ¸²æŸ“é¢å¤–çš„ head æ ‡ç­¾ --}}
  {{{mobiusConfig.headHtmlSnippet}}}
</head>

<body>
  {{!-- æ¸²æŸ“é¢å¤–çš„ body å†…å®¹ --}}
  {{{mobiusConfig.bodyHtmlSnippet}}}

  {{!-- æ¸²æŸ“ç™¾åº¦ç»Ÿè®¡ä»£ç  --}}
  {{#if mobiusConfig.baiduAnalytics.trackingId}}
  <script>
    var _hmt = _hmt || [];
    (function () {
      var hm = document.createElement("script");
      hm.src = "https://hm.baidu.com/hm.js?{{ mobiusConfig.baiduAnalytics.trackingId }}";
      var s = document.getElementsByTagName("script")[0];
      s.parentNode.insertBefore(hm, s);
    })();
  </script>
  {{/if}}

  {{!-- æ¸²æŸ“ Google Analytics ä»£ç  --}}
  {{#if mobiusConfig.googleAnalytics.trackingId}}
  <script async src="https://www.googletagmanager.com/gtag/js?id={{mobiusConfig.googleAnalytics.trackingId}}"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag() { dataLayer.push(arguments); }
    gtag('js', new Date());
    gtag('config', '{{ mobiusConfig.googleAnalytics.trackingId }}');
  </script>
  {{/if}}
</body>

</html>
